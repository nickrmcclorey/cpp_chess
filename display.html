<!doctypeHTML/>
<html>
        <center>
            <table id="gameboard">
                <tr>
                    <td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
                </tr>
                <tr>
                    <td>A</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>B</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>C</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>D</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>E</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>F</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>G</td><td></td> <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td>H</td><td></td> <td></img></td><td></td><td></td><td></td><td></td><td></td><td></td>
                 </tr>

         </table>
     </center>
<style>

html{
    background-color: #4bff20;
}

table{


}
td{
    height:80px;
    width:80px;
    font-size: 200%;
    text-align: center;
    margin:0px;
    padding:0px;
}

img{
  height:70px;
  width:70px;
  padding:0px;
  margin:0px;
}

</style>

<script>
var board = document.getElementById('gameboard');

    function createPattern() {
      // creating the checker pattern on the board
      for (k=1; k<9; k=k+2) {
        for (i=1; i<9; i=i+2) {
          board.rows[k].cells[i].style.background="white";
          board.rows[k].cells[i+1].style.background="#e72e2e";
        }// of first inner for

        for (i=1; i<9; i=i+2) {
          board.rows[k+1].cells[i+1].style.background="white";
          board.rows[k+1].cells[i].style.background="#e72e2e";

        }// of second inner loop
      }// of outer for
    }
    createPattern();


function clearBoard() {

}

function updateBoard(board_info) {


  // clear the board
  for (var k = 1; k < 9; k++) {
    for (var i = 1; i < 9; i++) {
      board.rows[k].cells[i].innerHTML = "";
    }
  }

  // update board with info from json file
  for (var k = 0; k < board_info.pieces.length; k++) {

    // get x and y position
    xpos = board_info.pieces[k].xPos;
    ypos = board_info.pieces[k].yPos;

    // adjust x and y position for the html table
    xpos++;
    ypos++;

    // put it on the board
    board.rows[xpos].cells[ypos].innerHTML = '<img src="chessPics/'+board_info.pieces[k].team+board_info.pieces[k].type+'.png"</img>';

  }
}

  // variable that gets the json data
  var request = new XMLHttpRequest();
  request.onreadystatechange = function() {

    // checks to see if it was succesful
    if (this.readyState == 4 && this.status == 200) {

      // contains all the info from the json file
      var board_info = JSON.parse(this.responseText);
      //updates the board with variable containing all info
      updateBoard(board_info);

    }
  }

// responsible for calling the function to update data
document.addEventListener("click",function(){  request.open("GET", "saved_games/current.json", true);
  request.send();},false);

</script>

</html>
